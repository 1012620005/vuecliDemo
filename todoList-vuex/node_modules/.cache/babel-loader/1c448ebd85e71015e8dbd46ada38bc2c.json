{"remainingRequest":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/babel-loader/lib/index.js!/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/src/App.vue","mtime":1605772965292},{"path":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songshaohong/Desktop/vuecli/vuecliDemo/todoList-vuex/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEhlYWRlciBmcm9tICcuL2NvbXBvbmVudHMvaGVhZGVyJzsKaW1wb3J0IExpc3QgZnJvbSAnLi9jb21wb25lbnRzL2xpc3QnOwppbXBvcnQgRm9vdGVyIGZyb20gJy4vY29tcG9uZW50cy9mb290ZXInOwppbXBvcnQgbG9jYXN0b3JhZ2V1bnRpbCBmcm9tICcuL3VudGlscy9sb2Nhc3RvcmFnZXVudGlsJzsKaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyOiBIZWFkZXIsCiAgICBMaXN0OiBMaXN0LAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvczogbG9jYXN0b3JhZ2V1bnRpbC5yZWFkVG9kb3MoKQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIOWcqOe7hOS7tuWKoOi9veWujOWQjuiOt+WPlnJlZuWvueixoeeahCAkb24g5p2l5Zue5LygYWRkVGl0bGUKICAgIHRoaXMuJHJlZnMuaGVhZGVyLiRvbignYWRkVGl0bGUnLCBmdW5jdGlvbiAodG9kbykgewogICAgICBfdGhpcy50b2Rvcy51bnNoaWZ0KHRvZG8pOwogICAgfSk7IC8vIOWcqGFwcOS4reiuoumYhQoKICAgIFB1YlN1Yi5zdWJzY3JpYmUoJ0RFTExJU1QnLCBmdW5jdGlvbiAobXNnLCBpbmRleCkgewogICAgICBjb25zb2xlLmxvZyhtc2csIGluZGV4KTsKCiAgICAgIF90aGlzLmRlbExpc3QoaW5kZXgpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxMaXN0OiBmdW5jdGlvbiBkZWxMaXN0KGluZGV4KSB7CiAgICAgIHRoaXMudG9kb3Muc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBzZWxlY3RBbGxUb2RvczogZnVuY3Rpb24gc2VsZWN0QWxsVG9kb3MoZmxhZykgewogICAgICB0aGlzLnRvZG9zLmZvckVhY2goZnVuY3Rpb24gKHRvZG8pIHsKICAgICAgICB0b2RvLmZpbmlzaGVkID0gZmxhZzsKICAgICAgfSk7CiAgICB9LAogICAgZGVsRmluaXNoZWRUb2RvczogZnVuY3Rpb24gZGVsRmluaXNoZWRUb2RvcygpIHsKICAgICAgdGhpcy50b2RvcyA9IHRoaXMudG9kb3MuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7CiAgICAgICAgcmV0dXJuICF0b2RvLmZpbmlzaGVkOwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDmt7Hluqbnm5Hop4Yg5L6/5LqO5a2Y5YKoCiAgICB0b2RvczogewogICAgICBoYW5kbGVyOiBsb2Nhc3RvcmFnZXVudGlsLnNhdmVUb2RvcywKICAgICAgZGVlcDogdHJ1ZSAvLyDmt7Hluqbnm5Hop4YKICAgICAgLy8gaW1tZWRpYXRlOiB0cnVlIC8vIOWIneWni+WMluaXtuiwg+eUqGhhbmdkbGVy5Ye95pWwCgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbmlzaGVkQ291bnQ6IGZ1bmN0aW9uIGZpbmlzaGVkQ291bnQoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9kb3MpOwogICAgICByZXR1cm4gdGhpcy50b2Rvcy5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCB0b2RvKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsICsgKHRvZG8uZmluaXNoZWQgPyAxIDogMCk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIGlzQ2hlY2s6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoZWRDb3VudCA9PT0gdGhpcy50b2Rvcy5sZW5ndGggJiYgdGhpcy50b2Rvcy5sZW5ndGggPiAwOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuc2VsZWN0QWxsVG9kb3ModmFsdWUpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAiBA,OAAA,MAAA,MAAA,qBAAA;AACA,OAAA,IAAA,MAAA,mBAAA;AACA,OAAA,MAAA,MAAA,qBAAA;AACA,OAAA,gBAAA,MAAA,2BAAA;AACA,OAAA,MAAA,MAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,gBAAA,CAAA,SAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AACA;AACA,SAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,UAAA,EAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA,KAFA,EAFA,CAKA;;AACA,IAAA,MAAA,CAAA,SAAA,CAAA,SAAA,EAAA,UAAA,GAAA,EAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA;;AACA,MAAA,KAAA,CAAA,OAAA,CAAA,KAAA;AACA,KAHA;AAIA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,KADA,EACA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,IAJA,EAIA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,IAAA;AACA,OAFA;AAGA,KARA;AASA,IAAA,gBATA,8BASA;AACA,WAAA,KAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,CAAA,IAAA,CAAA,QAAA;AAAA,OAAA,CAAA;AACA;AAXA,GAvBA;AAoCA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,OAAA,EAAA,gBAAA,CAAA,SADA;AAEA,MAAA,IAAA,EAAA,IAFA,CAEA;AACA;;AAHA;AAFA,GApCA;AA4CA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,aAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA,IAAA;AAAA,eAAA,KAAA,IAAA,IAAA,CAAA,QAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AAAA,OAAA,EAAA,CAAA,CAAA;AAEA,KALA;AAMA,IAAA,OAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,aAAA,KAAA,KAAA,KAAA,CAAA,MAAA,IAAA,KAAA,KAAA,CAAA,MAAA,GAAA,CAAA;AAEA,OAJA;AAKA,MAAA,GALA,eAKA,KALA,EAKA;AACA,aAAA,cAAA,CAAA,KAAA;AACA;AAPA;AANA;AA5CA,CAAA","sourcesContent":["<template>\n   <div class=\"todo-container\">\n        <div class=\"todo-wrap\">\n            <Header ref=\"header\"/><!--自定义事件传值 适合子传父组件-->\n            <List :todos=\"todos\"/><!--pubsub-js 消息订阅-->\n            <Footer>\n              <input type=\"checkbox\" v-model=\"isCheck\"  slot=\"isCheck\"/>\n              <span slot=\"finished\">\n                  <span>已完成{{finishedCount}}件</span> / 总计{{todos.length}}件\n              </span>\n              <button class=\"btn btn-warning\"  @click=\"delFinishedTodos\" slot=\"delFinishedTodos\">清除已完成任务</button>\n            </Footer> <!--solt实名插槽-->\n        </div>\n    </div>\n</template>\n\n<script>\nimport Header from './components/header'\nimport List from './components/list'\nimport Footer from './components/footer'\nimport locastorageuntil from './untils/locastorageuntil'\nimport PubSub from 'pubsub-js' \nexport default {\n  name: 'App',\n  components: {\n    Header,\n    List,\n    Footer\n  },\n  data () {\n    return {\n      todos: locastorageuntil.readTodos()\n    }\n  },\n  mounted (){\n    // 在组件加载完后获取ref对象的 $on 来回传addTitle\n    this.$refs.header.$on('addTitle',(todo) =>{\n      this.todos.unshift(todo)\n    })\n    // 在app中订阅\n    PubSub.subscribe('DELLIST',(msg,index) =>{\n      console.log(msg,index)\n      this.delList(index)\n    })\n  },\n  methods:{\n    delList (index) {\n      this.todos.splice(index,1)\n    },\n    selectAllTodos(flag){\n      this.todos.forEach(todo =>{\n        todo.finished = flag\n      })\n    },\n    delFinishedTodos(){\n      this.todos = this.todos.filter(todo=>!todo.finished)\n    }\n  },\n  watch:{\n    // 深度监视 便于存储\n      todos: {\n        handler: locastorageuntil.saveTodos,\n        deep: true, // 深度监视\n        // immediate: true // 初始化时调用hangdler函数\n      }\n  },\n  computed: {\n    finishedCount(){\n      console.log(this.todos)\n      return this.todos.reduce((total,todo) => total + (todo.finished ? 1:0),0)\n                \n    },\n    isCheck:{\n      get(){\n        return this.finishedCount === this.todos.length && this.todos.length > 0\n                   \n      },\n      set(value){\n        this.selectAllTodos(value)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.todo-container {\n        width: 600px;\n        margin: 0 auto;\n    }\n\n    .todo-container .todo-wrap {\n        padding: 10px;\n        border: 1px solid #ddd;\n        border-radius: 5px;\n    }\n</style>\n"],"sourceRoot":"src"}]}